# üÉè Poker Metrics Calculator

–í—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –ø–æ–∫–µ—Ä–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫ (T, HS, PP, NP, EHS, S) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏ –∏ Monte-Carlo —Å–∏–º—É–ª—è—Ü–∏–π.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º—ã
```bash
python check_system.py
```

### 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
```bash
python poker_cleaner.py input.json output.json
```

## üìä –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞

- **–ò–∑–≤–ª–µ–∫–∞–µ—Ç –∫–∞—Ä—Ç—ã** –∏–∑ —Ç–µ–∫—Å—Ç–∞ —Ä–∞–∑–¥–∞—á
- **–†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç 6 –º–µ—Ç—Ä–∏–∫** –¥–ª—è –∫–∞–∂–¥–æ–π —É–ª–∏—Ü—ã:
  - **T** - Board Texture (—Ç–µ–∫—Å—Ç—É—Ä–∞ –±–æ—Ä–¥–∞)
  - **HS** - Hand Strength (—Å–∏–ª–∞ —Ä—É–∫–∏)
  - **PP** - Positive Potential (–ø–æ—Ç–µ–Ω—Ü–∏–∞–ª —É–ª—É—á—à–µ–Ω–∏—è) 
  - **NP** - Negative Potential (—Ä–∏—Å–∫ —É—Ö—É–¥—à–µ–Ω–∏—è)
  - **EHS** - Effective Hand Strength (—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Å–∏–ª–∞)
  - **S** - Strength Index (–∏–Ω–¥–µ–∫—Å —Å–∏–ª—ã)
- **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç** —Ñ–ª–æ–ø, —Ç–µ—Ä–Ω –∏ —Ä–∏–≤–µ—Ä
- **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç** –≤—Å–µ CPU —è–¥—Ä–∞ (20,000 –∏—Ç–µ—Ä–∞—Ü–∏–π –ú–æ–Ω—Ç–µ-–ö–∞—Ä–ª–æ)

## üìÅ –í–∫–ª—é—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

- **`clean.json`** (9.2MB) - –û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –ø–æ–∫–µ—Ä–Ω—ã–µ —Ä–∞–∑–¥–∞—á–∏ –±–µ–∑ –º–µ—Ç—Ä–∏–∫
- **`clean_with_metrics.json`** (15MB) - –ü–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏
- **`raw.json`** (28MB) - –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–Ω–µ –≤–∫–ª—é—á–µ–Ω—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π)

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

| –§–∞–π–ª | –†–∞–∑–¥–∞—á | –í—Ä–µ–º—è (8 —è–¥–µ—Ä) |
|------|--------|-----------------|
| 10 MB | ~1,000 | 2-5 –º–∏–Ω—É—Ç |
| 100 MB | ~10,000 | 20-40 –º–∏–Ω—É—Ç |
| 1 GB | ~100,000 | 3-6 —á–∞—Å–æ–≤ |

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### Ubuntu/Debian:
```bash
sudo apt update && sudo apt install python3 python3-pip -y
mkdir ~/poker && cd ~/poker
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã: poker_cleaner.py, check_system.py
python check_system.py
```

### –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ:
```bash
nohup python poker_cleaner.py large_file.json output.json > process.log 2>&1 &
tail -f process.log
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ screen:
```bash
screen -S poker
python poker_cleaner.py huge_dataset.json output.json
# Ctrl+A, D –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è
# screen -r poker –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```

## üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Å–µ—Ä–≤–µ—Ä—ã

### AWS EC2:
- **c6i.2xlarge** (8 vCPU, 16 GB) - —Å—Ä–µ–¥–Ω–∏–µ –¥–∞—Ç–∞—Å–µ—Ç—ã
- **c6i.4xlarge** (16 vCPU, 32 GB) - –±–æ–ª—å—à–∏–µ –¥–∞—Ç–∞—Å–µ—Ç—ã

### Google Cloud:
- **c2-standard-8** (8 vCPU, 32 GB)
- **c2-standard-16** (16 vCPU, 64 GB)

## üìù –§–æ—Ä–º–∞—Ç –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

```json
[
  {
    "prompt": "In this hand, your position is BB, and your holding is [Ace of Spade and King of Clubs].\nThe flop comes Queen of Heart, Jack of Spade, Ten of Diamond...",
    "chosen": "bet 12.00",
    "rejected": "check"
  }
]
```

## üì§ –§–æ—Ä–º–∞—Ç –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

```json
[
  {
    "prompt": "...",
    "chosen": "bet 12.00", 
    "rejected": "check",
    "metrics": {
      "flop": {"T": 0.537, "HS": 0.842, "PP": -1.546, "NP": 0.294, "EHS": 0.593, "S": 0.186},
      "turn": {"T": 0.537, "HS": 0.620, "PP": -0.166, "NP": 0.101, "EHS": 0.558, "S": 0.115},
      "river": {"T": 0.264, "HS": 0.505, "PP": 0.0, "NP": 0.0, "EHS": 0.505, "S": 0.009}
    }
  }
]
```

## üíª –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **CPU**: 4+ —è–¥—Ä–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 8-16)
- **RAM**: 8+ GB (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 16-32 GB)
- **Python**: 3.8+
- **–î–∏—Å–∫**: SSD –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã

- `SERVER_SETUP.md` - –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
- `check_system.py` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã
- `poker_metrics.py` - –ê–≤—Ç–æ–Ω–æ–º–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –º–µ—Ç—Ä–∏–∫

---

**üé≤ –ì–æ—Ç–æ–≤–æ –∫ –æ–±—Ä–∞–±–æ—Ç–∫–µ –º–∏–ª–ª–∏–æ–Ω–æ–≤ –ø–æ–∫–µ—Ä–Ω—ã—Ö —Ä–∞–∑–¥–∞—á!** 